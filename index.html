<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>3ì‚¬ í†µí•© ë¹„êµ ì‹œì„¸í‘œ</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        :root { --sk: #e60012; --kt: #00b0ca; --lg: #e6007e; }
        body { font-family: 'Pretendard', sans-serif; background: #f1f5f9; padding: 20px; }
        .container { display: flex; flex-direction: column; align-items: center; gap: 20px; }
        
        /* ì—ë””í„° ë°•ìŠ¤ */
        .editor { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 100%; max-width: 900px; }
        .input-row { display: grid; grid-template-columns: 2fr repeat(6, 1fr) 45px; gap: 5px; margin-bottom: 5px; }
        input { width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 4px; font-size: 12px; text-align: center; }
        .head-labels { display: grid; grid-template-columns: 2fr repeat(6, 1fr) 45px; gap: 5px; margin-bottom: 5px; text-align: center; font-size: 11px; font-weight: bold; }

        /* ê²°ê³¼ë¬¼ ë””ìì¸ */
        #capture-area { background: #fff; padding: 20px; border: 1px solid #333; width: 850px; }
        .main-title { text-align: center; font-size: 24px; font-weight: 900; margin-bottom: 15px; }
        
        table { width: 100%; border-collapse: collapse; border: 2px solid #333; table-layout: fixed; }
        th, td { border: 1px solid #333; padding: 8px; text-align: center; font-size: 13px; }
        
        /* í—¤ë” ìƒ‰ìƒ */
        .th-model { background: #eee; }
        .th-sk { background: var(--sk); color: #fff; }
        .th-kt { background: var(--kt); color: #fff; }
        .th-lg { background: var(--lg); color: #fff; }
        .th-sub { background: #f8fafc; font-size: 11px; }

        .price { font-weight: 800; color: #e11d48; }
        .model-name { font-weight: bold; text-align: left; padding-left: 10px; background: #fafafa; }

        .btn { cursor: pointer; border: none; border-radius: 4px; font-weight: bold; }
        .btn-add { background: #10b981; color: white; padding: 10px 20px; margin-top: 10px; }
        .btn-save { background: #333; color: white; padding: 15px 30px; font-size: 16px; margin-top: 20px; width: 100%; max-width: 900px; }
    </style>
</head>
<body>

<div class="container">
    <div class="editor">
        <h3>ğŸ“Š 3ì‚¬ í†µí•© ì‹œì„¸ í¸ì§‘</h3>
        <div class="head-labels">
            <div>ëª¨ë¸ëª…</div>
            <div style="color:var(--sk)">SKë²ˆì´</div><div style="color:var(--sk)">SKê¸°ë³€</div>
            <div style="color:var(--kt)">KTë²ˆì´</div><div style="color:var(--kt)">KTê¸°ë³€</div>
            <div style="color:var(--lg)">LGë²ˆì´</div><div style="color:var(--lg)">LGê¸°ë³€</div>
            <div>ì‚­ì œ</div>
        </div>
        <div id="input-fields"></div>
        <button class="btn btn-add" onclick="addRow()">+ ëª¨ë¸ ì¶”ê°€</button>
    </div>

    <div id="capture-area">
        <div class="main-title">ğŸ“± 3ì‚¬ í†µì‹ ì‚¬ í†µí•© ë‹¨ê°€í‘œ</div>
        <table>
            <thead>
                <tr>
                    <th rowspan="2" class="th-model" width="22%">ëª¨ë¸ëª…</th>
                    <th colspan="2" class="th-sk">SK Telecom</th>
                    <th colspan="2" class="th-kt">KT</th>
                    <th colspan="2" class="th-lg">LG U+</th>
                </tr>
                <tr>
                    <th class="th-sub">ë²ˆì´</th><th class="th-sub">ê¸°ë³€</th>
                    <th class="th-sub">ë²ˆì´</th><th class="th-sub">ê¸°ë³€</th>
                    <th class="th-sub">ë²ˆì´</th><th class="th-sub">ê¸°ë³€</th>
                </tr>
            </thead>
            <tbody id="render-body"></tbody>
        </table>
        <p style="text-align: center; font-size: 11px; color: #666; margin-top: 15px;">â€» ëª¨ë“  ì‹œì„¸ëŠ” ê³µì‹œì§€ì›ê¸ˆ/íŠ¹ì • ìš”ê¸ˆì œ ê¸°ì¤€ì…ë‹ˆë‹¤.</p>
    </div>

    <button class="btn btn-save" onclick="saveImage()">ğŸ“¸ í†µí•© ì‹œì„¸í‘œ ì´ë¯¸ì§€ ì €ì¥</button>
</div>

<script>
    let rows = [{n:'ì•„ì´í° 15 Pro', skb:'30', skg:'35', ktb:'28', ktg:'33', lgb:'25', lgg:'30'}];

    function render() {
        const inputZone = document.getElementById('input-fields');
        const tableZone = document.getElementById('render-body');
        inputZone.innerHTML = '';
        tableZone.innerHTML = '';

        rows.forEach((r, idx) => {
            // ì—ë””í„° ìƒì„±
            const rowDiv = document.createElement('div');
            rowDiv.className = 'input-row';
            rowDiv.innerHTML = `
                <input type="text" value="${r.n}" oninput="upd(${idx},'n',this.value)">
                <input type="text" value="${r.skb}" oninput="upd(${idx},'skb',this.value)">
                <input type="text" value="${r.skg}" oninput="upd(${idx},'skg',this.value)">
                <input type="text" value="${r.ktb}" oninput="upd(${idx},'ktb',this.value)">
                <input type="text" value="${r.ktg}" oninput="upd(${idx},'ktg',this.value)">
                <input type="text" value="${r.lgb}" oninput="upd(${idx},'lgb',this.value)">
                <input type="text" value="${r.lgg}" oninput="upd(${idx},'lgg',this.value)">
                <button class="btn" style="background:#ef4444; color:#fff;" onclick="del(${idx})">X</button>
            `;
            inputZone.appendChild(rowDiv);

            // í‘œ ìƒì„±
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td class="model-name">${r.n}</td>
                <td class="price">${r.skb}</td><td class="price">${r.skg}</td>
                <td class="price">${r.ktb}</td><td class="price">${r.ktg}</td>
                <td class="price">${r.lgb}</td><td class="price">${r.lgg}</td>
            `;
            tableZone.appendChild(tr);
        });
    }

    function addRow() { rows.push({n:'', skb:'', skg:'', ktb:'', ktg:'', lgb:'', lgg:''}); render(); }
    function del(idx) { rows.splice(idx, 1); render(); }
    function upd(idx, k, v) { rows[idx][k] = v; render(); }
    
    function saveImage() {
        html2canvas(document.querySelector("#capture-area"), {scale:3}).then(canvas => {
            const link = document.createElement('a');
            link.download = `í†µí•©ì‹œì„¸í‘œ.png`;
            link.href = canvas.toDataURL();
            link.click();
        });
    }

    render();
</script>
</body>
</html>
